# 版本更新日志

## v1.1.0 - 高帧率优化版本 (2025-11-08)

### 🚀 重大更新

#### 高帧率支持 (110 FPS)
基于**逐飞LS2K0300开源库**的优化方案，实现了高帧率图像采集。

### ✨ 新特性

1. **MJPEG格式支持**
   - 使用硬件MJPEG解码器
   - 大幅提升帧率性能
   - 降低CPU占用率

2. **帧率检测与警告**
   - 自动检测实际帧率
   - 未达标时显示警告信息
   - 提示用户检查硬件和驱动

3. **简化配置**
   - 移除不必要的参数设置
   - 减少初始化开销
   - 提高系统响应速度

### 📊 性能对比

| 版本 | 格式 | 分辨率 | 帧率 | 提升 |
|------|------|--------|------|------|
| v1.0.0 | YUYV | 160×120 | 30 FPS | - |
| v1.1.0 | MJPEG | 160×120 | **110 FPS** | **3.6倍** |

### 🔧 技术改进

#### 代码修改
- `src/uvc_camera.cpp` - 添加MJPEG格式设置
- `include/uvc_camera.h` - 更新FPS定义为110

#### 关键代码
```cpp
// 设置 MJPEG 格式（支持高帧率的关键！）
cap.set(CAP_PROP_FOURCC, VideoWriter::fourcc('M', 'J', 'P', 'G'));

// 设置帧率
cap.set(CAP_PROP_FPS, 110);
```

### 📝 文档更新

- 更新 `README.md` - 添加高帧率特性说明
- 更新 `application/camera_display/README.md` - 性能参数更新
- 新增本更新日志

### 💡 使用说明

#### 硬件要求
- **推荐**: 龙邱110fps USB摄像头
- **必需**: 支持MJPEG格式的UVC驱动

#### 预期输出
```
Camera opened successfully: /dev/video0
✓ Set MJPEG format for high frame rate support
Camera settings: 160x120 @ 110 FPS
✅ 摄像头初始化成功: 已达到目标帧率 110 fps
```

#### 如果帧率不足
```
⚠️  Warning: Requested 110 fps, actual 30 fps
   提示: 请确认使用龙邱110fps摄像头并安装了正确的UVC驱动
```

### 🐛 已知问题

1. **部分摄像头不支持110fps**
   - 解决方案: 使用龙邱110fps摄像头
   - 或修改 `UVC_FPS` 为摄像头支持的帧率

2. **网络带宽需求增加**
   - 110 FPS时网络带宽需求约 16.5 Mbps
   - 建议使用有线网络

### 📦 兼容性

- ✅ 向后兼容普通30fps摄像头
- ✅ 自动降级到摄像头支持的最高帧率
- ✅ 保持原有网络传输功能

### 🙏 致谢

感谢**逐飞科技**提供的LS2K0300开源库和优化方案。

---

## v1.0.0 - 初始版本 (2025-11-08)

### ✨ 功能特性

1. **USB摄像头采集** (OpenCV + V4L2)
2. **IPS200屏幕显示** (Framebuffer)
3. **TCP网络传输** (端口8888)
4. **多客户端支持** (最多2个)
5. **完整交叉编译支持**

### 📊 性能

- 分辨率: 160×120
- 帧率: 30 FPS
- 网络延迟: < 50ms
- 带宽: ~4.5 Mbps

---

**维护者**: 基于逐飞IPS200开源库适配
**GitHub**: https://github.com/Cjw128/loongson_camera
